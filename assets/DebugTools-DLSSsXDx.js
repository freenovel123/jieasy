import{f as A,g as r,Y as F,m,l as I,r as i,o,c as u,a as t,w as s,b as a,h as L,V as b,Z as $,$ as x,J as g,t as h,M as N,d as O,_ as M}from"./index-DQ6KTaqe.js";import{S as f}from"./index-UwqACce9.js";const X={class:"debug-tools"},Y={class:"debug-tools__close"},Z={class:"scrollable-container"},G={class:"scrollable-container"},K={class:"scrollable-container"},Q={class:"headers-list"},W={class:"header-item__title"},ee={class:"header-item__content"},te={key:0},se={class:"headers-list"},ae={class:"header-item__title"},le={class:"header-item__content"},oe={key:0},ne={class:"scrollable-container"},de={class:"scrollable-container"},re=A({__name:"DebugTools",props:{visible:{type:Boolean,default:!1},data:{type:Object,default:null}},emits:["update:visible"],setup(E,{emit:T}){const q=E,B=T,y=r("elements"),d=r(!1),{visible:J,data:p}=F(q);m(J,e=>{d.value=e});const k=r(""),H=r(""),S=r(""),w=r(0),V=r(0);m(p,e=>{k.value=g(JSON.stringify(e)),e.responseParsing&&(H.value=g(JSON.stringify(e.responseParsing))),e.putDiy&&(S.value=g(JSON.stringify(e.putDiy))),w.value=Object.keys(e.requestHeader).length,V.value=Object.keys(e.responseHeader).length}),m(d,e=>{B("update:visible",e)});const P=getComputedStyle(document.documentElement).getPropertyValue("--td-comp-size-xxl"),v=I(()=>window.innerHeight-parseFloat(P));return(e,n)=>{const j=i("t-button"),c=i("t-tab-panel"),C=i("t-tag"),D=i("t-collapse-panel"),z=i("t-collapse"),R=i("t-tabs"),U=i("t-drawer");return o(),u("div",X,[t(U,{visible:d.value,"onUpdate:visible":n[2]||(n[2]=l=>d.value=l),"close-on-overlay-click":!1,footer:!1,header:!1,"on-overlay-click":()=>d.value=!1,"show-overlay":!1,class:"debug-tools__drawer",size:"49%",onCancel:n[3]||(n[3]=l=>d.value=!1)},{default:s(()=>[a("div",Y,[t(j,{theme:"default",shape:"square",variant:"text",onClick:n[0]||(n[0]=()=>d.value=!1)},{default:s(()=>[t(L,{name:"close"})]),_:1})]),t(R,{modelValue:y.value,"onUpdate:modelValue":n[1]||(n[1]=l=>y.value=l),theme:"card","drag-sort":""},{default:s(()=>[t(c,{value:"elements",label:e.$t("pages.source.debug.elements"),"destroy-on-hide":!1},{default:s(()=>[a("div",Z,[t(f,{value:b(p).responseHtml,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1},8,["label"]),t(c,{value:"parsing",label:e.$t("pages.source.debug.parsing"),"destroy-on-hide":!1},{default:s(()=>[a("div",G,[t(f,{value:H.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1},8,["label"]),t(c,{value:"headers",label:e.$t("pages.source.debug.headers"),"destroy-on-hide":!1},{default:s(()=>[a("div",K,[t(z,{"default-expand-all":"",borderless:""},{default:s(()=>[t(D,{value:"0",header:`Request Headers (${w.value})`},{default:s(()=>[a("div",Q,[(o(!0),u($,null,x(b(p).requestHeader,(l,_)=>(o(),u("div",{key:_,class:"header-item"},[a("div",W,h(_),1),a("div",ee,[l?(o(),u("span",te,h(l),1)):(o(),N(C,{key:1},{default:s(()=>[O("Empty")]),_:1}))])]))),128))])]),_:1},8,["header"]),t(D,{header:`Response Headers (${V.value})`,value:"1"},{default:s(()=>[a("div",se,[(o(!0),u($,null,x(b(p).responseHeader,(l,_)=>(o(),u("div",{key:_,class:"header-item"},[a("div",ae,h(_),1),a("div",le,[l?(o(),u("div",oe,h(l),1)):(o(),N(C,{key:1},{default:s(()=>[O("Empty")]),_:1}))])]))),128))])]),_:1},8,["header"])]),_:1})])]),_:1},8,["label"]),t(c,{value:"put",label:"PUT","destroy-on-hide":!1},{default:s(()=>[a("div",ne,[t(f,{value:S.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1}),t(c,{value:"data",label:"Api Data","destroy-on-hide":!1},{default:s(()=>[a("div",de,[t(f,{value:k.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible","on-overlay-click"])])}}}),_e=M(re,[["__scopeId","data-v-79fae152"]]);export{_e as default};
