import{f as A,g as r,V as F,m,l as X,r as i,o,c as u,a as t,w as s,b as a,h as I,R as b,W as x,X as N,J as g,t as h,M as O,d as $,_ as L}from"./index--TtAS5k8.js";import{S as f}from"./index-Hi3OqBGe.js";const M={class:"debug-tools"},W={class:"debug-tools__close"},G={class:"scrollable-container"},K={class:"scrollable-container"},Q={class:"scrollable-container"},Y={class:"headers-list"},Z={class:"header-item__title"},ee={class:"header-item__content"},te={key:0},se={class:"headers-list"},ae={class:"header-item__title"},le={class:"header-item__content"},oe={key:0},ne={class:"scrollable-container"},de={class:"scrollable-container"},re=A({__name:"DebugTools",props:{visible:{type:Boolean,default:!1},data:{type:Object,default:null}},emits:["update:visible"],setup(E,{emit:T}){const q=E,B=T,y=r("elements"),d=r(!1),{visible:J,data:p}=F(q);m(J,e=>{d.value=e});const k=r(""),H=r(""),S=r(""),w=r(0),V=r(0);m(p,e=>{k.value=g(JSON.stringify(e)),e.responseParsing&&(H.value=g(JSON.stringify(e.responseParsing))),e.putDiy&&(S.value=g(JSON.stringify(e.putDiy))),w.value=Object.keys(e.requestHeader).length,V.value=Object.keys(e.responseHeader).length}),m(d,e=>{B("update:visible",e)});const P=getComputedStyle(document.documentElement).getPropertyValue("--td-comp-size-xxl"),v=X(()=>window.innerHeight-parseFloat(P));return(e,n)=>{const R=i("t-button"),c=i("t-tab-panel"),C=i("t-tag"),D=i("t-collapse-panel"),j=i("t-collapse"),z=i("t-tabs"),U=i("t-drawer");return o(),u("div",M,[t(U,{visible:d.value,"onUpdate:visible":n[2]||(n[2]=l=>d.value=l),"close-on-overlay-click":!1,footer:!1,header:!1,"on-overlay-click":()=>d.value=!1,"show-overlay":!1,class:"debug-tools__drawer",size:"49%",onCancel:n[3]||(n[3]=l=>d.value=!1)},{default:s(()=>[a("div",W,[t(R,{theme:"default",shape:"square",variant:"text",onClick:n[0]||(n[0]=()=>d.value=!1)},{default:s(()=>[t(I,{name:"close"})]),_:1})]),t(z,{modelValue:y.value,"onUpdate:modelValue":n[1]||(n[1]=l=>y.value=l),theme:"card","drag-sort":""},{default:s(()=>[t(c,{value:"elements",label:e.$t("pages.source.debug.elements"),"destroy-on-hide":!1},{default:s(()=>[a("div",G,[t(f,{value:b(p).responseHtml,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1},8,["label"]),t(c,{value:"parsing",label:e.$t("pages.source.debug.parsing"),"destroy-on-hide":!1},{default:s(()=>[a("div",K,[t(f,{value:H.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1},8,["label"]),t(c,{value:"headers",label:e.$t("pages.source.debug.headers"),"destroy-on-hide":!1},{default:s(()=>[a("div",Q,[t(j,{"default-expand-all":"",borderless:""},{default:s(()=>[t(D,{value:"0",header:`Request Headers (${w.value})`},{default:s(()=>[a("div",Y,[(o(!0),u(x,null,N(b(p).requestHeader,(l,_)=>(o(),u("div",{key:_,class:"header-item"},[a("div",Z,h(_),1),a("div",ee,[l?(o(),u("span",te,h(l),1)):(o(),O(C,{key:1},{default:s(()=>[$("Empty")]),_:1}))])]))),128))])]),_:1},8,["header"]),t(D,{header:`Response Headers (${V.value})`,value:"1"},{default:s(()=>[a("div",se,[(o(!0),u(x,null,N(b(p).responseHeader,(l,_)=>(o(),u("div",{key:_,class:"header-item"},[a("div",ae,h(_),1),a("div",le,[l?(o(),u("div",oe,h(l),1)):(o(),O(C,{key:1},{default:s(()=>[$("Empty")]),_:1}))])]))),128))])]),_:1},8,["header"])]),_:1})])]),_:1},8,["label"]),t(c,{value:"put",label:"PUT","destroy-on-hide":!1},{default:s(()=>[a("div",ne,[t(f,{value:S.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1}),t(c,{value:"data",label:"Api Data","destroy-on-hide":!1},{default:s(()=>[a("div",de,[t(f,{value:k.value,height:v.value,readonly:!0},null,8,["value","height"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible","on-overlay-click"])])}}}),_e=L(re,[["__scopeId","data-v-79fae152"]]);export{_e as default};
